<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>Shukan Bonus Mark</title>
	<script src="/js/Cookies.js"></script>
</head>

<body>
  <h1>Bonus Mark</h1>
</body>

<script>
	  // Validation code used part of Quiz 1
	  if (location.hostname === "localhost" || location.hostname === "127.0.0.1") {
			var toHash = function() {
				var nav = window.navigator;
				var screen = window.screen;

				var str = nav.userAgent + '::h=' + screen.height + '::w=' + screen.width + '::plugin_name=' + nav.plugins[0].name;

				return str;
			};

			var guid = function() {
				var nav = window.navigator;
				var screen = window.screen;
				var guid = nav.mimeTypes.length;

				guid += nav.userAgent.replace(/\D+/g, '');
				guid += nav.plugins.length;
				guid += screen.height || '';
				guid += screen.width || '';
				guid += screen.pixelDepth || '';

				return guid;
			};

			var validation = Cookies.get("validation");

			if (validation === undefined) {
				// var validation = hash(toHash());
        var validation = window.window.btoa(toHash() + '::' + guid()) ;
				alert("Congratulations!\n\nYou got the bonus percent! \n\nYou will now be able to validate that you got it working\nand get 1% of your total mark in the class.\n\nPress OK to cotinue.");
				window.location = "/ValidationPage/index.html";
				Cookies.set("validation", validation, {expiry: new Date(2030, 0, 1)});
			}
		}
	</script>

  </html>
